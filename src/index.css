@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;

    --radius: 0.5rem;

    --sidebar-background: 0 0% 98%;

    --sidebar-foreground: 240 5.3% 26.1%;

    --sidebar-primary: 240 5.9% 10%;

    --sidebar-primary-foreground: 0 0% 98%;

    --sidebar-accent: 240 4.8% 95.9%;

    --sidebar-accent-foreground: 240 5.9% 10%;

    --sidebar-border: 220 13% 91%;

    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}

/* Loading screen animations */
@keyframes loading-bar {
  0% { width: 0%; }
  100% { width: 100%; }
}

@keyframes audioBar {
  0%, 100% { 
    height: 8px; 
    opacity: 0.3; 
  }
  50% { 
    height: 32px; 
    opacity: 1; 
  }
}

.animate-loading-bar {
  animation: loading-bar 3s ease-out forwards;
}

.audio-bar {
  height: 20px;
  animation: audioBar 1s ease-in-out infinite;
}

/* Custom scrollbar styling that matches the project's dark theme */
/* Webkit-based browsers (Chrome, Safari, Edge) */
::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

::-webkit-scrollbar-track {
  background: hsl(215 28% 17%); /* slate-800 equivalent */
  border-radius: 6px;
}

::-webkit-scrollbar-thumb {
  background: hsl(215 20% 32%); /* slate-600 equivalent */
  border-radius: 6px;
  border: 2px solid hsl(215 28% 17%); /* Creates a gap effect */
  transition: background-color 0.3s ease;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(215 20% 40%); /* Lighter slate on hover */
}

::-webkit-scrollbar-thumb:active {
  background: hsl(142 69% 58%); /* green-400 for active state */
}

::-webkit-scrollbar-corner {
  background: hsl(215 28% 17%); /* slate-800 equivalent */
}

/* Firefox scrollbar styling */
@supports (scrollbar-width: thin) {
  * {
    scrollbar-width: thin;
    scrollbar-color: hsl(215 20% 32%) hsl(215 28% 17%); /* thumb track */
  }
}

/* Color Scheme System - Dynamic theming */
@layer utilities {
  /* Apply color scheme variables to common elements */
  [data-color-scheme] .bg-gradient-to-br {
    background: linear-gradient(to bottom right, var(--color-bg), var(--color-bg-secondary), var(--color-bg)) !important;
  }
  
  /* Card backgrounds use secondary color */
  [data-color-scheme] .bg-slate-800,
  [data-color-scheme] .bg-slate-800\/50 {
    background-color: var(--color-bg-secondary) !important;
  }
  
  [data-color-scheme] .bg-slate-700 {
    background-color: var(--color-bg-tertiary) !important;
  }
  
  [data-color-scheme] .bg-slate-900 {
    background-color: var(--color-bg) !important;
  }
  
  [data-color-scheme] .bg-slate-600 {
    background-color: var(--color-bg-tertiary) !important;
  }
  
  /* Text colors - all variations */
  /* Only override text-white on neutral backgrounds, not on colored buttons */
  [data-color-scheme] h1.text-white,
  [data-color-scheme] h2.text-white,
  [data-color-scheme] h3.text-white,
  [data-color-scheme] h4.text-white,
  [data-color-scheme] h5.text-white,
  [data-color-scheme] h6.text-white,
  [data-color-scheme] p.text-white,
  [data-color-scheme] span.text-white,
  [data-color-scheme] div.text-white,
  [data-color-scheme] label.text-white {
    color: var(--color-text) !important;
  }
  
  [data-color-scheme] .text-slate-200,
  [data-color-scheme] .text-slate-300,
  [data-color-scheme] .text-slate-400,
  [data-color-scheme] .text-slate-500 {
    color: var(--color-text-secondary) !important;
  }
  
  /* Border colors - all variations */
  [data-color-scheme] .border-slate-500,
  [data-color-scheme] .border-slate-600,
  [data-color-scheme] .border-slate-700 {
    border-color: var(--color-border) !important;
  }
  
  /* Primary/accent colors - GREEN ACCENTS (icons, highlights) */
  [data-color-scheme] .text-green-400,
  [data-color-scheme] .text-green-500 {
    color: var(--color-primary) !important;
  }
  
  [data-color-scheme] .bg-green-600,
  [data-color-scheme] .bg-green-500 {
    background-color: var(--color-primary) !important;
  }
  
  [data-color-scheme] .hover\:bg-green-700:hover,
  [data-color-scheme] .hover\:bg-green-600:hover {
    background-color: var(--color-primary-hover) !important;
  }
  
  /* ORANGE/AMBER ACCENTS - These need to use primary color too */
  [data-color-scheme] .bg-orange-500,
  [data-color-scheme] .bg-orange-600,
  [data-color-scheme] .bg-amber-500,
  [data-color-scheme] .bg-amber-600 {
    background-color: var(--color-primary) !important;
  }
  
  [data-color-scheme] .text-orange-500,
  [data-color-scheme] .text-orange-600,
  [data-color-scheme] .text-amber-500,
  [data-color-scheme] .text-amber-600 {
    color: var(--color-primary) !important;
  }
  
  /* Blue accent colors - don't override button text */
  [data-color-scheme] .bg-blue-600,
  [data-color-scheme] .bg-blue-500 {
    background-color: var(--color-accent) !important;
  }
  
  /* Only override blue text that's NOT on buttons */
  [data-color-scheme] h1.text-blue-600,
  [data-color-scheme] h2.text-blue-600,
  [data-color-scheme] h3.text-blue-600,
  [data-color-scheme] p.text-blue-600,
  [data-color-scheme] span.text-blue-600,
  [data-color-scheme] div.text-blue-600,
  [data-color-scheme] h1.text-blue-500,
  [data-color-scheme] h2.text-blue-500,
  [data-color-scheme] h3.text-blue-500,
  [data-color-scheme] p.text-blue-500,
  [data-color-scheme] span.text-blue-500,
  [data-color-scheme] div.text-blue-500,
  [data-color-scheme] h1.text-blue-400,
  [data-color-scheme] h2.text-blue-400,
  [data-color-scheme] h3.text-blue-400,
  [data-color-scheme] p.text-blue-400,
  [data-color-scheme] span.text-blue-400,
  [data-color-scheme] div.text-blue-400 {
    color: var(--color-accent) !important;
  }
  
  [data-color-scheme] .hover\:bg-blue-700:hover,
  [data-color-scheme] .hover\:bg-blue-600:hover {
    background-color: var(--color-accent-hover) !important;
  }
  
  /* Hover backgrounds */
  [data-color-scheme] .hover\:bg-slate-700:hover,
  [data-color-scheme] .hover\:bg-slate-600:hover {
    background-color: var(--color-bg-tertiary) !important;
  }
  
  [data-color-scheme] .hover\:bg-slate-800:hover {
    background-color: var(--color-bg-secondary) !important;
  }
  
  /* Button text colors - IMPORTANT: Keep white text on colored buttons */
  [data-color-scheme] button.text-white,
  [data-color-scheme] .bg-red-600.text-white,
  [data-color-scheme] .bg-red-700.text-white,
  [data-color-scheme] .bg-green-600.text-white,
  [data-color-scheme] .bg-green-700.text-white,
  [data-color-scheme] .bg-blue-600.text-white,
  [data-color-scheme] .bg-blue-700.text-white {
    color: #ffffff !important;
  }
  
  /* Keep colored text on outline/variant buttons */
  [data-color-scheme] button.text-blue-400,
  [data-color-scheme] button.text-yellow-400,
  [data-color-scheme] button.text-orange-400 {
    color: currentColor !important;
  }
  
  [data-color-scheme] .border-blue-600 .text-blue-400,
  [data-color-scheme] .border-yellow-600 .text-yellow-400 {
    color: inherit !important;
  }
  
  /* Focus borders */
  [data-color-scheme] .focus\:border-green-500:focus {
    border-color: var(--color-primary) !important;
  }
  
  /* Ring colors */
  [data-color-scheme] .ring-green-500,
  [data-color-scheme] .focus\:ring-green-500:focus {
    --tw-ring-color: var(--color-primary) !important;
  }
  
  /* Status colors - don't override button text */
  [data-color-scheme] h1.text-red-500,
  [data-color-scheme] h2.text-red-500,
  [data-color-scheme] h3.text-red-500,
  [data-color-scheme] p.text-red-500,
  [data-color-scheme] span.text-red-500,
  [data-color-scheme] div.text-red-500,
  [data-color-scheme] h1.text-red-400,
  [data-color-scheme] h2.text-red-400,
  [data-color-scheme] h3.text-red-400,
  [data-color-scheme] p.text-red-400,
  [data-color-scheme] span.text-red-400,
  [data-color-scheme] div.text-red-400 {
    color: var(--color-danger) !important;
  }
  
  [data-color-scheme] .bg-red-500,
  [data-color-scheme] .bg-red-600 {
    background-color: var(--color-danger) !important;
  }
  
  /* Keep yellow/warning text - don't override button text */
  [data-color-scheme] h1.text-yellow-500,
  [data-color-scheme] h2.text-yellow-500,
  [data-color-scheme] h3.text-yellow-500,
  [data-color-scheme] p.text-yellow-500,
  [data-color-scheme] span.text-yellow-500,
  [data-color-scheme] div.text-yellow-500,
  [data-color-scheme] h1.text-yellow-400,
  [data-color-scheme] h2.text-yellow-400,
  [data-color-scheme] h3.text-yellow-400,
  [data-color-scheme] p.text-yellow-400,
  [data-color-scheme] span.text-yellow-400,
  [data-color-scheme] div.text-yellow-400 {
    color: var(--color-warning) !important;
  }
  
  /* Placeholder text */
  [data-color-scheme] ::placeholder,
  [data-color-scheme] .placeholder\:text-slate-400::placeholder {
    color: var(--color-text-secondary) !important;
    opacity: 0.6;
  }
  
  /* Scrollbar theming with color scheme */
  [data-color-scheme] ::-webkit-scrollbar-track {
    background: var(--color-bg-secondary);
  }
  
  [data-color-scheme] ::-webkit-scrollbar-thumb {
    background: var(--color-bg-tertiary);
    border-color: var(--color-bg-secondary);
  }
  
  [data-color-scheme] ::-webkit-scrollbar-thumb:hover {
    background: var(--color-border);
  }
  
  [data-color-scheme] ::-webkit-scrollbar-thumb:active {
    background: var(--color-primary);
  }
}
